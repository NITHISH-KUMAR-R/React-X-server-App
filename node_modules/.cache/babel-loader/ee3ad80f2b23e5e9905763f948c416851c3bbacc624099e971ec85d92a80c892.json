{"ast":null,"code":"import axios from \"axios\";\nconst axiosInstance = axios.create();\naxiosInstance.interceptors.request.use(config => {\n  let token = '';\n  if (localStorage.getItem('user')) {\n    token = JSON.parse(localStorage.getItem('user')).token;\n  }\n  if (token) {\n    config.headers.Authorization = token;\n  }\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\naxiosInstance.interceptors.response.use(response => response, error => {\n  if (error.response.status === 401) {\n    localStorage.removeItem('user');\n    console.log('getting 401');\n    window.location.href = '/login';\n  }\n  return Promise.reject(error);\n});\nexport default axiosInstance;","map":{"version":3,"names":["axios","axiosInstance","create","interceptors","request","use","config","token","localStorage","getItem","JSON","parse","headers","Authorization","error","Promise","reject","response","status","removeItem","console","log","window","location","href"],"sources":["C:/Users/nithi/Downloads/NewProjects/react-client/src/axiosConfig.js"],"sourcesContent":["import axios from \"axios\";\r\nconst axiosInstance=axios.create();\r\n\r\naxiosInstance.interceptors.request.use(\r\n    ( config ) => {\r\n        let token='';\r\n        if ( localStorage.getItem( 'user' ) ) {\r\n            token=JSON.parse( localStorage.getItem( 'user' ) ).token;\r\n        }\r\n        if ( token ) {\r\n            config.headers.Authorization=token;\r\n        }\r\n        return config\r\n    },\r\n    ( error ) => {\r\n        return Promise.reject( error )\r\n\r\n    }\r\n\r\n)\r\naxiosInstance.interceptors.response.use(\r\n    response => response,\r\n    error => {\r\n        if ( error.response.status===401 ) {\r\n            localStorage.removeItem( 'user' );\r\n            console.log( 'getting 401' )\r\n            window.location.href='/login';\r\n        }\r\n        return Promise.reject( error )\r\n    }\r\n)\r\nexport default axiosInstance"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,MAAMC,aAAa,GAACD,KAAK,CAACE,MAAM,CAAC,CAAC;AAElCD,aAAa,CAACE,YAAY,CAACC,OAAO,CAACC,GAAG,CAChCC,MAAM,IAAM;EACV,IAAIC,KAAK,GAAC,EAAE;EACZ,IAAKC,YAAY,CAACC,OAAO,CAAE,MAAO,CAAC,EAAG;IAClCF,KAAK,GAACG,IAAI,CAACC,KAAK,CAAEH,YAAY,CAACC,OAAO,CAAE,MAAO,CAAE,CAAC,CAACF,KAAK;EAC5D;EACA,IAAKA,KAAK,EAAG;IACTD,MAAM,CAACM,OAAO,CAACC,aAAa,GAACN,KAAK;EACtC;EACA,OAAOD,MAAM;AACjB,CAAC,EACCQ,KAAK,IAAM;EACT,OAAOC,OAAO,CAACC,MAAM,CAAEF,KAAM,CAAC;AAElC,CAEJ,CAAC;AACDb,aAAa,CAACE,YAAY,CAACc,QAAQ,CAACZ,GAAG,CACnCY,QAAQ,IAAIA,QAAQ,EACpBH,KAAK,IAAI;EACL,IAAKA,KAAK,CAACG,QAAQ,CAACC,MAAM,KAAG,GAAG,EAAG;IAC/BV,YAAY,CAACW,UAAU,CAAE,MAAO,CAAC;IACjCC,OAAO,CAACC,GAAG,CAAE,aAAc,CAAC;IAC5BC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAC,QAAQ;EACjC;EACA,OAAOT,OAAO,CAACC,MAAM,CAAEF,KAAM,CAAC;AAClC,CACJ,CAAC;AACD,eAAeb,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}