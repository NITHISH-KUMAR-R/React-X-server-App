{"ast":null,"code":"import axios from\"axios\";const axiosInstance=axios.create();axiosInstance.interceptors.request.use(config=>{let token='';if(localStorage.getItem('user')){token=JSON.parse(localStorage.getItem('user')).token;}if(token){config.headers.Authorization=\"Bearer \".concat(token);}return config;},error=>{return Promise.reject(error);});axiosInstance.interceptors.response.use(response=>response,error=>{if(error.response.status===401){localStorage.removeItem('user');console.log('getting 401');window.location.href='/login';}return Promise.reject(error);});export default axiosInstance;","map":{"version":3,"names":["axios","axiosInstance","create","interceptors","request","use","config","token","localStorage","getItem","JSON","parse","headers","Authorization","concat","error","Promise","reject","response","status","removeItem","console","log","window","location","href"],"sources":["C:/Users/nithi/Downloads/NewProjects/react-client/src/axiosConfig.js"],"sourcesContent":["import axios from \"axios\";\r\nconst axiosInstance=axios.create();\r\n\r\naxiosInstance.interceptors.request.use(\r\n    ( config ) => {\r\n        let token='';\r\n        if ( localStorage.getItem( 'user' ) ) {\r\n            token=JSON.parse( localStorage.getItem( 'user' ) ).token;\r\n        }\r\n        if ( token ) {\r\n            config.headers.Authorization=`Bearer ${ token }`;\r\n        }\r\n        return config\r\n    },\r\n    ( error ) => {\r\n        return Promise.reject( error )\r\n\r\n    }\r\n\r\n)\r\naxiosInstance.interceptors.response.use(\r\n    response => response,\r\n    error => {\r\n        if ( error.response.status===401 ) {\r\n            localStorage.removeItem( 'user' );\r\n            console.log( 'getting 401' )\r\n            window.location.href='/login';\r\n        }\r\n        return Promise.reject( error )\r\n    }\r\n)\r\nexport default axiosInstance"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,KAAM,CAAAC,aAAa,CAACD,KAAK,CAACE,MAAM,CAAC,CAAC,CAElCD,aAAa,CAACE,YAAY,CAACC,OAAO,CAACC,GAAG,CAChCC,MAAM,EAAM,CACV,GAAI,CAAAC,KAAK,CAAC,EAAE,CACZ,GAAKC,YAAY,CAACC,OAAO,CAAE,MAAO,CAAC,CAAG,CAClCF,KAAK,CAACG,IAAI,CAACC,KAAK,CAAEH,YAAY,CAACC,OAAO,CAAE,MAAO,CAAE,CAAC,CAACF,KAAK,CAC5D,CACA,GAAKA,KAAK,CAAG,CACTD,MAAM,CAACM,OAAO,CAACC,aAAa,WAAAC,MAAA,CAAYP,KAAK,CAAG,CACpD,CACA,MAAO,CAAAD,MAAM,CACjB,CAAC,CACCS,KAAK,EAAM,CACT,MAAO,CAAAC,OAAO,CAACC,MAAM,CAAEF,KAAM,CAAC,CAElC,CAEJ,CAAC,CACDd,aAAa,CAACE,YAAY,CAACe,QAAQ,CAACb,GAAG,CACnCa,QAAQ,EAAIA,QAAQ,CACpBH,KAAK,EAAI,CACL,GAAKA,KAAK,CAACG,QAAQ,CAACC,MAAM,GAAG,GAAG,CAAG,CAC/BX,YAAY,CAACY,UAAU,CAAE,MAAO,CAAC,CACjCC,OAAO,CAACC,GAAG,CAAE,aAAc,CAAC,CAC5BC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAC,QAAQ,CACjC,CACA,MAAO,CAAAT,OAAO,CAACC,MAAM,CAAEF,KAAM,CAAC,CAClC,CACJ,CAAC,CACD,cAAe,CAAAd,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}