{"ast":null,"code":"// src/Component/FriendPosts.js\nimport React,{useEffect,useState}from'react';import Card from'./Card';import'./Card.css';import Navbar from'./Navbar';import{baseurl}from'../url';import axios from'axios';import axiosInstance from'../axiosConfig';// import './LoadingSpinner.css'; // Import your loading spinner CSS file\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";axios.defaults.withCredentials=true;const FriendPosts=()=>{const[friendPosts,setFriendPosts]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{const fetchFriendPosts=async()=>{try{const response=await axiosInstance.get(\"\".concat(baseurl,\"/msg/displayFrndPost\"),{withCredentials:true});setFriendPosts(response.data.friendPosts||[]);setLoading(false);}catch(error){console.error('Error fetching friend posts:',error);setLoading(false);}};fetchFriendPosts();},[]);const formatDate=dateString=>{const options={year:'numeric',month:'long',day:'numeric'};const date=new Date(dateString);return date.toLocaleDateString(undefined,options);};return/*#__PURE__*/_jsxs(\"div\",{className:\"card-container\",children:[/*#__PURE__*/_jsx(Navbar,{}),loading&&/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),!loading&&friendPosts.length===0&&/*#__PURE__*/_jsx(\"p\",{children:\"No friend posts available.\"}),!loading&&friendPosts.length>0&&friendPosts.map(post=>post.messagesList.map(message=>/*#__PURE__*/_jsx(Card,{username:post.username.toUpperCase(),userPost:message.userPost,likes:message.likes,disLikes:message.disLikes,date:formatDate(message.date)},message._id)))]});};export default FriendPosts;","map":{"version":3,"names":["React","useEffect","useState","Card","Navbar","baseurl","axios","axiosInstance","jsx","_jsx","jsxs","_jsxs","defaults","withCredentials","FriendPosts","friendPosts","setFriendPosts","loading","setLoading","fetchFriendPosts","response","get","concat","data","error","console","formatDate","dateString","options","year","month","day","date","Date","toLocaleDateString","undefined","className","children","length","map","post","messagesList","message","username","toUpperCase","userPost","likes","disLikes","_id"],"sources":["D:/Hello/NewProjects/react-client/src/Component/FriendsPostonly.jsx"],"sourcesContent":["// src/Component/FriendPosts.js\r\nimport React, { useEffect, useState } from 'react';\r\nimport Card from './Card';\r\nimport './Card.css';\r\nimport Navbar from './Navbar';\r\nimport { baseurl } from '../url';\r\nimport axios from 'axios';\r\nimport axiosInstance from '../axiosConfig';\r\n// import './LoadingSpinner.css'; // Import your loading spinner CSS file\r\n\r\naxios.defaults.withCredentials=true;\r\n\r\nconst FriendPosts=() => {\r\n    const [friendPosts, setFriendPosts]=useState( [] );\r\n    const [loading, setLoading]=useState( true );\r\n\r\n    useEffect( () => {\r\n        const fetchFriendPosts=async () => {\r\n            try {\r\n                const response=await axiosInstance.get( `${ baseurl }/msg/displayFrndPost`, {\r\n                    withCredentials: true\r\n                } );\r\n                setFriendPosts( response.data.friendPosts||[] );\r\n                setLoading( false );\r\n            } catch ( error ) {\r\n                console.error( 'Error fetching friend posts:', error );\r\n                setLoading( false );\r\n            }\r\n        };\r\n\r\n        fetchFriendPosts();\r\n    }, [] );\r\n\r\n    const formatDate=( dateString ) => {\r\n        const options={ year: 'numeric', month: 'long', day: 'numeric' };\r\n        const date=new Date( dateString );\r\n        return date.toLocaleDateString( undefined, options );\r\n    };\r\n\r\n    return (\r\n        <div className='card-container'>\r\n            <Navbar />\r\n\r\n            {loading&&(\r\n                <div className=\"loading-spinner\"></div>\r\n            )}\r\n\r\n            {!loading&&friendPosts.length===0&&(\r\n                <p>No friend posts available.</p>\r\n            )}\r\n\r\n            {!loading&&friendPosts.length>0&&(\r\n                friendPosts.map( post => (\r\n                    post.messagesList.map( message => (\r\n                        <Card\r\n                            key={message._id}\r\n                            username={post.username.toUpperCase()}\r\n                            userPost={message.userPost}\r\n                            likes={message.likes}\r\n                            disLikes={message.disLikes}\r\n                            date={formatDate( message.date )}\r\n                        />\r\n                    ) )\r\n                ) )\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FriendPosts;\r\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,IAAI,KAAM,QAAQ,CACzB,MAAO,YAAY,CACnB,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,OAASC,OAAO,KAAQ,QAAQ,CAChC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,aAAa,KAAM,gBAAgB,CAC1C;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEAL,KAAK,CAACM,QAAQ,CAACC,eAAe,CAAC,IAAI,CAEnC,KAAM,CAAAC,WAAW,CAACA,CAAA,GAAM,CACpB,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAACd,QAAQ,CAAE,EAAG,CAAC,CAClD,KAAM,CAACe,OAAO,CAAEC,UAAU,CAAC,CAAChB,QAAQ,CAAE,IAAK,CAAC,CAE5CD,SAAS,CAAE,IAAM,CACb,KAAM,CAAAkB,gBAAgB,CAAC,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAC,KAAM,CAAAb,aAAa,CAACc,GAAG,IAAAC,MAAA,CAAMjB,OAAO,yBAAyB,CACxEQ,eAAe,CAAE,IACrB,CAAE,CAAC,CACHG,cAAc,CAAEI,QAAQ,CAACG,IAAI,CAACR,WAAW,EAAE,EAAG,CAAC,CAC/CG,UAAU,CAAE,KAAM,CAAC,CACvB,CAAE,MAAQM,KAAK,CAAG,CACdC,OAAO,CAACD,KAAK,CAAE,8BAA8B,CAAEA,KAAM,CAAC,CACtDN,UAAU,CAAE,KAAM,CAAC,CACvB,CACJ,CAAC,CAEDC,gBAAgB,CAAC,CAAC,CACtB,CAAC,CAAE,EAAG,CAAC,CAEP,KAAM,CAAAO,UAAU,CAAGC,UAAU,EAAM,CAC/B,KAAM,CAAAC,OAAO,CAAC,CAAEC,IAAI,CAAE,SAAS,CAAEC,KAAK,CAAE,MAAM,CAAEC,GAAG,CAAE,SAAU,CAAC,CAChE,KAAM,CAAAC,IAAI,CAAC,GAAI,CAAAC,IAAI,CAAEN,UAAW,CAAC,CACjC,MAAO,CAAAK,IAAI,CAACE,kBAAkB,CAAEC,SAAS,CAAEP,OAAQ,CAAC,CACxD,CAAC,CAED,mBACIjB,KAAA,QAAKyB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC3B5B,IAAA,CAACL,MAAM,GAAE,CAAC,CAETa,OAAO,eACJR,IAAA,QAAK2B,SAAS,CAAC,iBAAiB,CAAM,CACzC,CAEA,CAACnB,OAAO,EAAEF,WAAW,CAACuB,MAAM,GAAG,CAAC,eAC7B7B,IAAA,MAAA4B,QAAA,CAAG,4BAA0B,CAAG,CACnC,CAEA,CAACpB,OAAO,EAAEF,WAAW,CAACuB,MAAM,CAAC,CAAC,EAC3BvB,WAAW,CAACwB,GAAG,CAAEC,IAAI,EACjBA,IAAI,CAACC,YAAY,CAACF,GAAG,CAAEG,OAAO,eAC1BjC,IAAA,CAACN,IAAI,EAEDwC,QAAQ,CAAEH,IAAI,CAACG,QAAQ,CAACC,WAAW,CAAC,CAAE,CACtCC,QAAQ,CAAEH,OAAO,CAACG,QAAS,CAC3BC,KAAK,CAAEJ,OAAO,CAACI,KAAM,CACrBC,QAAQ,CAAEL,OAAO,CAACK,QAAS,CAC3Bf,IAAI,CAAEN,UAAU,CAAEgB,OAAO,CAACV,IAAK,CAAE,EAL5BU,OAAO,CAACM,GAMhB,CACH,CACJ,CACL,EACA,CAAC,CAEd,CAAC,CAED,cAAe,CAAAlC,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}