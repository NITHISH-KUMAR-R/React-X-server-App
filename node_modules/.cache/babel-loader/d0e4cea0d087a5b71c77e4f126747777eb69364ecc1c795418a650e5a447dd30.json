{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import'./navbar.css';// Import custom CSS for styling\nimport{Link,useLocation}from'react-router-dom';import logo from'./notebook.gif';// Import your logo image\nimport{baseurl}from'../url';import axiosInstance from'../axiosConfig';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Navbar=()=>{const[menuOpen,setMenuOpen]=useState(false);const navRef=useRef(null);// Ref to access the nav element\nconst location=useLocation();// Get current location using useLocation hook\nconst handleLogout=async()=>{try{await axiosInstance.post(\"\".concat(baseurl,\"/user/logout\"),{withCredentials:true// Send cookies with the request\n});localStorage.removeItem('user');// Remove user session data\nwindow.location.href='/login';// Redirect to login page\n}catch(error){console.error('Logout error:',error);// Handle error if needed\n}};const toggleMenu=()=>{setMenuOpen(!menuOpen);};// Close menu when clicking outside\nuseEffect(()=>{const handleOutsideClick=event=>{if(navRef.current&&!navRef.current.contains(event.target)){setMenuOpen(false);}};// Add event listener when menu is open\nif(menuOpen){document.addEventListener('mousedown',handleOutsideClick);}else{document.removeEventListener('mousedown',handleOutsideClick);}// Clean up\nreturn()=>{document.removeEventListener('mousedown',handleOutsideClick);};},[menuOpen]);// Close menu if clicking on any link that is already active\nconst handleClickLink=()=>{if(menuOpen&&location.pathname==='/homepage'){setMenuOpen(false);}else if(menuOpen&&location.pathname==='/friendspost'){setMenuOpen(false);}else if(menuOpen&&location.pathname==='/friend'){setMenuOpen(false);}else if(menuOpen&&location.pathname==='/about'){setMenuOpen(false);}};return/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar\",ref:navRef,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"nav-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"nav-logo\",children:/*#__PURE__*/_jsxs(Link,{to:\"/homepage\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Logo\"}),\" \"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"nav-toggle\",onClick:toggleMenu,children:/*#__PURE__*/_jsxs(\"div\",{className:\"burger \".concat(menuOpen?'open':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"line\"}),/*#__PURE__*/_jsx(\"div\",{className:\"line\"}),/*#__PURE__*/_jsx(\"div\",{className:\"line\"})]})})]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"nav-list \".concat(menuOpen?'open':''),children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/homepage\",onClick:handleClickLink,children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/friendspost\",onClick:handleClickLink,children:\"Timeline\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/friend\",onClick:handleClickLink,children:\"Friends\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/about\",onClick:handleClickLink,children:\"About\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,children:'L'})})]})]});};export default Navbar;","map":{"version":3,"names":["React","useState","useEffect","useRef","Link","useLocation","logo","baseurl","axiosInstance","jsx","_jsx","jsxs","_jsxs","Navbar","menuOpen","setMenuOpen","navRef","location","handleLogout","post","concat","withCredentials","localStorage","removeItem","window","href","error","console","toggleMenu","handleOutsideClick","event","current","contains","target","document","addEventListener","removeEventListener","handleClickLink","pathname","className","ref","children","to","src","alt","onClick"],"sources":["C:/Users/nithi/Downloads/NewProjects/react-client/src/Component/Navbar.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport './navbar.css'; // Import custom CSS for styling\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport logo from './notebook.gif'; // Import your logo image\r\n\r\nimport { baseurl } from '../url';\r\nimport axiosInstance from '../axiosConfig';\r\n\r\nconst Navbar=() => {\r\n    const [menuOpen, setMenuOpen]=useState( false );\r\n    const navRef=useRef( null ); // Ref to access the nav element\r\n    const location=useLocation(); // Get current location using useLocation hook\r\n\r\n    const handleLogout=async () => {\r\n        try {\r\n            await axiosInstance.post( `${ baseurl }/user/logout`, {\r\n                withCredentials: true // Send cookies with the request\r\n            } );\r\n            localStorage.removeItem( 'user' ); // Remove user session data\r\n            window.location.href='/login'; // Redirect to login page\r\n        } catch ( error ) {\r\n            console.error( 'Logout error:', error );\r\n            // Handle error if needed\r\n        }\r\n    };\r\n\r\n    const toggleMenu=() => {\r\n        setMenuOpen( !menuOpen );\r\n    };\r\n\r\n    // Close menu when clicking outside\r\n    useEffect( () => {\r\n        const handleOutsideClick=( event ) => {\r\n            if ( navRef.current&&!navRef.current.contains( event.target ) ) {\r\n                setMenuOpen( false );\r\n            }\r\n        };\r\n\r\n        // Add event listener when menu is open\r\n        if ( menuOpen ) {\r\n            document.addEventListener( 'mousedown', handleOutsideClick );\r\n        } else {\r\n            document.removeEventListener( 'mousedown', handleOutsideClick );\r\n        }\r\n\r\n        // Clean up\r\n        return () => {\r\n            document.removeEventListener( 'mousedown', handleOutsideClick );\r\n        };\r\n    }, [menuOpen] );\r\n\r\n    // Close menu if clicking on any link that is already active\r\n    const handleClickLink=() => {\r\n        if ( menuOpen&&location.pathname==='/homepage' ) {\r\n            setMenuOpen( false );\r\n        } else if ( menuOpen&&location.pathname==='/friendspost' ) {\r\n            setMenuOpen( false );\r\n        } else if ( menuOpen&&location.pathname==='/friend' ) {\r\n            setMenuOpen( false );\r\n        } else if ( menuOpen&&location.pathname==='/about' ) {\r\n            setMenuOpen( false );\r\n        }\r\n    };\r\n\r\n    return (\r\n        <nav className=\"navbar\" ref={navRef}>\r\n            <div className=\"nav-header\">\r\n                <div className=\"nav-logo\">\r\n                    <Link to=\"/homepage\">\r\n                        <img src={logo} alt=\"Logo\" /> {/* Use your logo image here */}\r\n                    </Link>\r\n                </div>\r\n                <div className=\"nav-toggle\" onClick={toggleMenu}>\r\n                    <div className={`burger ${ menuOpen? 'open':'' }`}>\r\n                        <div className=\"line\"></div>\r\n                        <div className=\"line\"></div>\r\n                        <div className=\"line\"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <ul className={`nav-list ${ menuOpen? 'open':'' }`}>\r\n                <li className=\"nav-item\">\r\n                    <Link to=\"/homepage\" onClick={handleClickLink}>Home</Link>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                    <Link to=\"/friendspost\" onClick={handleClickLink}>Timeline</Link>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                    <Link to=\"/friend\" onClick={handleClickLink}>Friends</Link>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                    <Link to=\"/about\" onClick={handleClickLink}>About</Link>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                    <button onClick={handleLogout}>\r\n                        {'L'}\r\n                        {/* <img src={logout} alt=\"Logout\" /> */}\r\n                    </button>\r\n                </li>\r\n            </ul>\r\n        </nav>\r\n    );\r\n};\r\n\r\nexport default Navbar;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}