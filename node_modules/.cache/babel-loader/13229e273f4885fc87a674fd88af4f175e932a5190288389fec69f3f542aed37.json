{"ast":null,"code":"import React,{useState,useCallback}from'react';import Navbar from'../Component/Navbar';import'./home.css';import{baseurl}from'../url';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Homepage=()=>{const[postMessage,setPostMessage]=useState('');const[responseMessage,setResponseMessage]=useState('');const handleSubmit=useCallback(async event=>{event.preventDefault();try{const response=await fetch(\"\".concat(baseurl,\"/msg/post\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({postMessage}),credentials:'include'// Include credentials with each request\n});const data=await response.text();if(response.ok){setResponseMessage(data);setPostMessage('');// Clear the input field on successful post\n}else{setResponseMessage('Error: '+data);}}catch(error){setResponseMessage('Error: '+error.message);}},[postMessage]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"Homecontainer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"home-container\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"h1\",{children:\"Share your thoughts\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"textarea\",{value:postMessage,onChange:e=>setPostMessage(e.target.value),placeholder:\"Write your message here...\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Post\"})]}),responseMessage&&/*#__PURE__*/_jsx(\"p\",{children:responseMessage})]})})});};export default Homepage;","map":{"version":3,"names":["React","useState","useCallback","Navbar","baseurl","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Homepage","postMessage","setPostMessage","responseMessage","setResponseMessage","handleSubmit","event","preventDefault","response","fetch","concat","method","headers","body","JSON","stringify","credentials","data","text","ok","error","message","children","className","onSubmit","value","onChange","e","target","placeholder","required","type"],"sources":["C:/Users/nithi/Downloads/NewProjects/react-client/src/Home/homepage.jsx"],"sourcesContent":["import React, { useState, useCallback } from 'react';\r\nimport Navbar from '../Component/Navbar';\r\nimport './home.css';\r\nimport { baseurl } from '../url';\r\n\r\nconst Homepage=() => {\r\n    const [postMessage, setPostMessage]=useState( '' );\r\n    const [responseMessage, setResponseMessage]=useState( '' );\r\n\r\n    const handleSubmit=useCallback( async ( event ) => {\r\n        event.preventDefault();\r\n        try {\r\n            const response=await fetch( `${ baseurl }/msg/post`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify( { postMessage } ),\r\n                credentials: 'include', // Include credentials with each request\r\n            } );\r\n            const data=await response.text();\r\n            if ( response.ok ) {\r\n                setResponseMessage( data );\r\n                setPostMessage( '' ); // Clear the input field on successful post\r\n            } else {\r\n                setResponseMessage( 'Error: '+data );\r\n            }\r\n        } catch ( error ) {\r\n            setResponseMessage( 'Error: '+error.message );\r\n        }\r\n    }, [postMessage] );\r\n\r\n    return (\r\n        <>\r\n            <div className='Homecontainer'>\r\n                <div className='home-container'>\r\n                    <Navbar />\r\n                    <h1>Share your thoughts</h1>\r\n                    <form onSubmit={handleSubmit}>\r\n                        <textarea\r\n                            value={postMessage}\r\n                            onChange={( e ) => setPostMessage( e.target.value )}\r\n                            placeholder='Write your message here...'\r\n                            required\r\n                        />\r\n                        <button type='submit'>Post</button>\r\n                    </form>\r\n                    {responseMessage&&<p>{responseMessage}</p>}\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Homepage;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,WAAW,KAAQ,OAAO,CACpD,MAAO,CAAAC,MAAM,KAAM,qBAAqB,CACxC,MAAO,YAAY,CACnB,OAASC,OAAO,KAAQ,QAAQ,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEjC,KAAM,CAAAC,QAAQ,CAACA,CAAA,GAAM,CACjB,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAACZ,QAAQ,CAAE,EAAG,CAAC,CAClD,KAAM,CAACa,eAAe,CAAEC,kBAAkB,CAAC,CAACd,QAAQ,CAAE,EAAG,CAAC,CAE1D,KAAM,CAAAe,YAAY,CAACd,WAAW,CAAE,KAAQ,CAAAe,KAAK,EAAM,CAC/CA,KAAK,CAACC,cAAc,CAAC,CAAC,CACtB,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAC,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAMjB,OAAO,cAAc,CACjDkB,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAE,CAAEd,WAAY,CAAE,CAAC,CACvCe,WAAW,CAAE,SAAW;AAC5B,CAAE,CAAC,CACH,KAAM,CAAAC,IAAI,CAAC,KAAM,CAAAT,QAAQ,CAACU,IAAI,CAAC,CAAC,CAChC,GAAKV,QAAQ,CAACW,EAAE,CAAG,CACff,kBAAkB,CAAEa,IAAK,CAAC,CAC1Bf,cAAc,CAAE,EAAG,CAAC,CAAE;AAC1B,CAAC,IAAM,CACHE,kBAAkB,CAAE,SAAS,CAACa,IAAK,CAAC,CACxC,CACJ,CAAE,MAAQG,KAAK,CAAG,CACdhB,kBAAkB,CAAE,SAAS,CAACgB,KAAK,CAACC,OAAQ,CAAC,CACjD,CACJ,CAAC,CAAE,CAACpB,WAAW,CAAE,CAAC,CAElB,mBACIN,IAAA,CAAAI,SAAA,EAAAuB,QAAA,cACI3B,IAAA,QAAK4B,SAAS,CAAC,eAAe,CAAAD,QAAA,cAC1BzB,KAAA,QAAK0B,SAAS,CAAC,gBAAgB,CAAAD,QAAA,eAC3B3B,IAAA,CAACH,MAAM,GAAE,CAAC,cACVG,IAAA,OAAA2B,QAAA,CAAI,qBAAmB,CAAI,CAAC,cAC5BzB,KAAA,SAAM2B,QAAQ,CAAEnB,YAAa,CAAAiB,QAAA,eACzB3B,IAAA,aACI8B,KAAK,CAAExB,WAAY,CACnByB,QAAQ,CAAIC,CAAC,EAAMzB,cAAc,CAAEyB,CAAC,CAACC,MAAM,CAACH,KAAM,CAAE,CACpDI,WAAW,CAAC,4BAA4B,CACxCC,QAAQ,MACX,CAAC,cACFnC,IAAA,WAAQoC,IAAI,CAAC,QAAQ,CAAAT,QAAA,CAAC,MAAI,CAAQ,CAAC,EACjC,CAAC,CACNnB,eAAe,eAAER,IAAA,MAAA2B,QAAA,CAAInB,eAAe,CAAI,CAAC,EACzC,CAAC,CACL,CAAC,CACR,CAAC,CAEX,CAAC,CAED,cAAe,CAAAH,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}