{"ast":null,"code":"// src/Component/Timeline.js\nimport React,{useEffect,useState}from'react';import Card from'./Card';import'./Timeline.css';import axios from'axios';import Navbar from'./Navbar';import{baseurl}from'../url';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";axios.defaults.withCredentials=true;const Timeline=()=>{const[posts,setPosts]=useState([]);useEffect(()=>{const fetchPosts=async()=>{try{const response=await axios.get(\"\".concat(baseurl,\"/msg/allUserspost\"),{withCredentials:true});setPosts(response.data);}catch(error){console.error('Error while fetching posts',error);}};fetchPosts();},[]);const formatDate=dateString=>{const options={year:'numeric',month:'long',day:'numeric'};const date=new Date(dateString);return date.toLocaleDateString(undefined,options);};return/*#__PURE__*/_jsxs(\"div\",{className:\"card-container\",children:[/*#__PURE__*/_jsx(Navbar,{}),posts.map(post=>post.messagesList.map(message=>/*#__PURE__*/_jsx(Card,{username:post.username.toUpperCase()// Accessing username from the post object\n,userPost:message.userPost,likes:message.likes,disLikes:message.disLikes,date:formatDate(message.date)},message._id)))]});};export default Timeline;","map":{"version":3,"names":["React","useEffect","useState","Card","axios","Navbar","baseurl","jsx","_jsx","jsxs","_jsxs","defaults","withCredentials","Timeline","posts","setPosts","fetchPosts","response","get","concat","data","error","console","formatDate","dateString","options","year","month","day","date","Date","toLocaleDateString","undefined","className","children","map","post","messagesList","message","username","toUpperCase","userPost","likes","disLikes","_id"],"sources":["C:/Users/nithi/Downloads/project/May2024-projects/react-client/src/Component/Timeline.jsx"],"sourcesContent":["// src/Component/Timeline.js\r\nimport React, { useEffect, useState } from 'react';\r\nimport Card from './Card';\r\nimport './Timeline.css';\r\nimport axios from 'axios';\r\nimport Navbar from './Navbar';\r\nimport { baseurl } from '../url';\r\naxios.defaults.withCredentials=true;\r\n\r\nconst Timeline=() => {\r\n    const [posts, setPosts]=useState( [] );\r\n\r\n    useEffect( () => {\r\n        const fetchPosts=async () => {\r\n            try {\r\n                const response=await axios.get( `${ baseurl }/msg/allUserspost`, {\r\n                    withCredentials: true\r\n                } );\r\n                setPosts( response.data );\r\n            } catch ( error ) {\r\n                console.error( 'Error while fetching posts', error );\r\n            }\r\n        };\r\n\r\n        fetchPosts();\r\n    }, [] );\r\n\r\n    const formatDate=( dateString ) => {\r\n        const options={ year: 'numeric', month: 'long', day: 'numeric' };\r\n        const date=new Date( dateString );\r\n        return date.toLocaleDateString( undefined, options );\r\n    };\r\n\r\n\r\n    return (\r\n        <div className='card-container'>\r\n            <Navbar />\r\n\r\n            {posts.map( post => (\r\n                post.messagesList.map( message => (\r\n                    <Card\r\n                        key={message._id}\r\n                        username={post.username.toUpperCase()} // Accessing username from the post object\r\n                        userPost={message.userPost}\r\n                        likes={message.likes}\r\n                        disLikes={message.disLikes}\r\n                        date={formatDate( message.date )}\r\n                    />\r\n                ) )\r\n            ) )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Timeline;\r\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,IAAI,KAAM,QAAQ,CACzB,MAAO,gBAAgB,CACvB,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,OAASC,OAAO,KAAQ,QAAQ,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACjCN,KAAK,CAACO,QAAQ,CAACC,eAAe,CAAC,IAAI,CAEnC,KAAM,CAAAC,QAAQ,CAACA,CAAA,GAAM,CACjB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAACb,QAAQ,CAAE,EAAG,CAAC,CAEtCD,SAAS,CAAE,IAAM,CACb,KAAM,CAAAe,UAAU,CAAC,KAAAA,CAAA,GAAY,CACzB,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAC,KAAM,CAAAb,KAAK,CAACc,GAAG,IAAAC,MAAA,CAAMb,OAAO,sBAAsB,CAC7DM,eAAe,CAAE,IACrB,CAAE,CAAC,CACHG,QAAQ,CAAEE,QAAQ,CAACG,IAAK,CAAC,CAC7B,CAAE,MAAQC,KAAK,CAAG,CACdC,OAAO,CAACD,KAAK,CAAE,4BAA4B,CAAEA,KAAM,CAAC,CACxD,CACJ,CAAC,CAEDL,UAAU,CAAC,CAAC,CAChB,CAAC,CAAE,EAAG,CAAC,CAEP,KAAM,CAAAO,UAAU,CAAGC,UAAU,EAAM,CAC/B,KAAM,CAAAC,OAAO,CAAC,CAAEC,IAAI,CAAE,SAAS,CAAEC,KAAK,CAAE,MAAM,CAAEC,GAAG,CAAE,SAAU,CAAC,CAChE,KAAM,CAAAC,IAAI,CAAC,GAAI,CAAAC,IAAI,CAAEN,UAAW,CAAC,CACjC,MAAO,CAAAK,IAAI,CAACE,kBAAkB,CAAEC,SAAS,CAAEP,OAAQ,CAAC,CACxD,CAAC,CAGD,mBACIf,KAAA,QAAKuB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC3B1B,IAAA,CAACH,MAAM,GAAE,CAAC,CAETS,KAAK,CAACqB,GAAG,CAAEC,IAAI,EACZA,IAAI,CAACC,YAAY,CAACF,GAAG,CAAEG,OAAO,eAC1B9B,IAAA,CAACL,IAAI,EAEDoC,QAAQ,CAAEH,IAAI,CAACG,QAAQ,CAACC,WAAW,CAAC,CAAG;AAAA,CACvCC,QAAQ,CAAEH,OAAO,CAACG,QAAS,CAC3BC,KAAK,CAAEJ,OAAO,CAACI,KAAM,CACrBC,QAAQ,CAAEL,OAAO,CAACK,QAAS,CAC3Bd,IAAI,CAAEN,UAAU,CAAEe,OAAO,CAACT,IAAK,CAAE,EAL5BS,OAAO,CAACM,GAMhB,CACH,CACJ,CAAC,EACF,CAAC,CAEd,CAAC,CAED,cAAe,CAAA/B,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}